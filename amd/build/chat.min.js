define("mod_moodlechatbot/chat",["exports","core/ajax","core/notification"],(function(_exports,_ajax,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=_interopRequireDefault(_ajax),_notification=_interopRequireDefault(_notification);_exports.init=()=>{const messages=document.getElementById("moodlechatbot-messages"),input=document.getElementById("moodlechatbot-input"),sendButton=document.getElementById("moodlechatbot-send"),addMessage=(sender,message)=>{const messageElement=document.createElement("p");messageElement.innerHTML="<strong>".concat(sender,":</strong> ").concat(message),messages.appendChild(messageElement),messages.scrollTop=messages.scrollHeight},sendMessage=()=>{const message=input.value.trim();message&&(addMessage("You",message),input.value="",_ajax.default.call([{methodname:"mod_moodlechatbot_send_message",args:{message:message},done:response=>{"success"===response.status?addMessage("Bot",response.message):_notification.default.alert("Error",response.message)},fail:_notification.default.exception}]))};sendButton.addEventListener("click",sendMessage),input.addEventListener("keypress",(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),sendMessage())}))}}));

//# sourceMappingURL=chat.min.js.map